<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>电子税务局UI库</title>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<script src="../../../tax-js/jquery-1.9.1.min.js"></script>
<script src="../../../ui-js/ui-js.js" dir="3" id="link"></script>	
<script src="../../../tax-js/common.js"></script>		
<link rel="stylesheet" href="../../../ui-css/ui-css.css">
<link rel="stylesheet" href="../../../tax-module/step/jquery-ui.min.css">
<link rel="stylesheet" href="../../../tax-font-icon/iconfont.css">
<link rel="stylesheet" href="../../../layui/css/layui.css">
<link rel="stylesheet" href="../../../tax-css/common.css">	
<link rel="stylesheet" href="../../../layui/css/modules/eleTree/eleTree.css" media="all">
</head>

<body>
<!-- 让IE8/9支持媒体查询，从而兼容栅格 --> 
<!--[if lt IE 9]>
  <script src="../../../tax-js/ie8/html5.min.js"></script>
  <script src="../../../tax-js/ie8/respond.min.js"></script>
<![endif]-->
<div class="layui-container" >
  <blockquote class="layui-elem-quote">注意：以下内容为电子税务局系统控件示例规范，各省局可以此为模板制定视觉规范。</blockquote>
  <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend >eleTree树组件（Layui扩展模块）</legend>
  </fieldset>
<blockquote class="layui-elem-quote layui-quote-nm">
  js等文件位置\layui\lay\modules\eleTree<br>
  css等文件位置\layui\css\modules\eleTree<br>
</blockquote>		
<div class="ui-tax-center-box">
<div class="tax-title" style="margin-bottom: 20px;"><i class="dot"></i>树组件展示01</div>	
<div class="eleTree ele1" lay-filter="data1" style="height: 260px;"></div><br>
<button class="layui-btn">console</button>
 <div class="tax-title" style="margin-top: 30px; margin-bottom: 20px;"><i class="dot"></i>树组件展示02</div>	   
 <div class="eleTree ele2" lay-filter="data2" style="height: 130px;" ></div>
 <div class="tax-title" style="margin-top: 50px; margin-bottom: 20px;"><i class="dot"></i>树组件展示03</div>		
 <div class="eleTree ele3" lay-filter="data3" style="height: 130px;"></div>
	
</div>	  

 

  
	


	
</div>	
<script src="../../../layui/layui.js" charset="utf-8"></script> 
<script>
        
        layui.config({
            base: "../../../layui/lay/modules/eleTree/"
        }).use(['jquery','eleTree'], function(){
            var $ = layui.jquery;
            var eleTree = layui.eleTree;

            var data=[
                {
                    "label": "广东省税务局",
                    "spread": true,
                    "children": [
                        {
                            "label": "广州市税务局",
                            "spread": true,
                            "disabled": true,
                            "children": [
                                {
                                    "label": "天河区税务局",
                                    "children": [
                                        {
                                            "label": "岗顶税务局",
                                            "checked": true
                                        },
                                        {
                                            "label": "东圃税务局"
                                        }
                                    ]
                                },
                                {
                                    "label": "黄浦区税务局",
                                    "spread": true,
                                    "children": [
                                        {
                                            "label": "萝岗税务局",
                                            "checked": true
                                        }
                                    ]
                                },
                                {
                                    "label": "白云区税务局"
                                }
                            ]
                        },
                        {
                            "label": "珠海市税务局",
                            "children": [
                                {
                                    "label": "香洲区税务局",
                                    "checked": true
                                }
                            ]
                        },
                        {
                            "label": "惠州市税务局"
                        }
                    ]
                },
                {
                    "label": "山东省税务局",
                    "children": [
                        {
                            "label": "济南市税务局",
                            "disabled": true
                        },
                        {
                            "label": "枣庄市税务局",
                            "checked": true
                        }
                    ]
                }
            
            ]
            var data2=[
            {
                    "label": "广东省税务局",
                    "spread": true,
                    "children": [
                        {
                            "label": "广州市税务局",
                            "spread": true,
                            "disabled": true
                        },
                        {
                            "label": "珠海市税务局",
                            "children": [
                                {
                                    "label": "香洲区税务局",
                                    "checked": true
                                }
                            ]
                        },
                        {
                            "label": "惠州市税务局"
                        }
                    ]
                },
                {
                    "label": "山东省国家税务局",
                    "children": [
                        {
                            "label": "济南市税务局",
                            "disabled": true
                        },
                        {
                            "label": "枣庄市税务局",
                            "checked": true
                        }
                    ]
                }
            ];
            eleTree.render({
                elem: '.ele1',
                // url: "/tree",
                // type: "post",
                data: data,
                showCheckbox: true,
                contextmenuList: ["copy","add","edit","remove"],
                drag: true,
                accordion: true
            });
            
            eleTree.render({
                elem: '.ele2',
                // url: "../../data/home/tree.json",
                // type: "post",
                data: data2,
                showCheckbox: true,
                contextmenuList: ["add","remove"],
                drag: true,
                accordion: true
            });

            var data3=[
                {
                    "label": "资料文件"
                },
                {
                    "label": "附件",
                    "isLeaf": true
                }
            ]
            var k=1;
            eleTree.render({
                elem: '.ele3',
                // url: "/tree",
                // type: "post",
                data: data3,
                showCheckbox: true,
                contextmenuList: ["copy","add","edit","remove"],
                // drag: true,
                accordion: true,
                lazy: true,
                loadData: function(item,callback) {
                    setTimeout(function() {
                        k++;
                        var d = [
                            {
                                "label": "文件"
                            }
                        ];
                        console.log(item);
                        if(k>=3){
                            d[0].isLeaf=true;
                            return void callback(d);
                        }
                        callback(d);
                    }, 500);
                }
            });

            eleTree.on("add(data1)",function(data) {
                console.log(data);
                // 若后台修改，则重新获取后台数据，然后重载
                // eleTree.reload(".ele1", {where: {data: JSON.stringify(data.data)}})
            })
            eleTree.on("edit(data1)",function(data) {
                console.log(data);
            })
            eleTree.on("remove(data1)",function(data) {
                console.log(data);
            })
            eleTree.on("toggleSlide(data1)",function(data) {
                console.log(data);
            })
            eleTree.on("checkbox(data1)",function(data) {
                console.log(data);
            })
            eleTree.on("drag(data2)",function(data) {
                console.log(data);
            })

            $(".layui-btn").on("click",function() {
                console.log(eleTree.checkedData(".ele1"));
            })
            
        });
    </script>
	
</body>
</html>
